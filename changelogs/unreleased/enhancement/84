merge qzweng/open-gpu-share to avoid dependency